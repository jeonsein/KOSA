<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>todolist.html</title>
        <link
            rel="stylesheet"
            href="https://unpkg.com/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        />
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: sans-serif;
            }

            .title {
                text-align: center;
                font-weight: bold;
                font-size: 20pt;
            }

            .todo-done {
				font-weight: bold;
                text-decoration: line-through;
            }

            .container {
                padding: 10px 10px 10px 10px;
            }

            .card-borderless {
                border: 0;
                box-shadow: none;
            }

            .pointer {
                cursor: pointer;
            }
        </style>
    </head>

    <body>
        <div id="app" class="container">

			<!-- üëª 3. ÌÖúÌîåÎ¶ø ÏôÑÏÑ± -->
            <div class="card card-body bg-light">
                <div class="title">üêπSENGNA's Todolist Appüêπ </div>
            </div>

            <div class="card card-default card-borderless">

                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col">
                            <div class="input-group">
                                <input
                                    id="msg"
                                    type="text"
                                    class="form-control"
                                    name="msg"
                                    placeholder="Ìï†ÏùºÏùÑ Ïó¨Í∏∞Ïóê ÏûÖÎ†•!"
									v-model="todo"
									v-on:keyup.enter="add()"
                                /> <!-- ÏÇ¨Ïö©ÏûêÍ∞Ä ÏûÖÎ†•Ìï† Í∞íÏùÑ todoÎùºÎäî Ïù¥Î¶ÑÏúºÎ°ú Î∞îÏù∏Îî© ÏãúÏºúÏ£ºÍ∏∞-->
                                <span class="btn btn-primary input-group-addon"
										v-on:click="add()"
                                    >Ï∂îÍ∞Ä</span
                                >
                            </div>
                        </div>
                    </div>

					<!-- Ìï¥Îãπ Î¶¨Ïä§Ìä∏Í∞Ä todolistÎùºÎäî Îç∞Ïù¥ÌÑ∞Î°ú Ï±ÑÏõåÏ†∏Ïïº Ìï® -->
                    <div class="row">
                        <div class="col">
                            <ul class="list-group">
                                <li
                                    class="list-group-item list" 
									v-for="list in todolist"
									v-bind:class="list.completed? 'list-group-item-success': ''"
                                >
                                    <span class="pointer"
									v-on:click="upd(list.id)"
									v-bind:class="list.completed? 'todo-done' : ''"
                                        > {{list.todo}} {{list.completed? '‚úÖ' : ''}}
										</span
                                    >
                                    <span
                                        class="float-end badge bg-secondary pointer"
										v-on:click="del(list.id)"
                                        >ÏÇ≠Ï†ú</span
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <script src="https://unpkg.com/vue"></script>
        <script type="text/javascript">

			let idCnt = 0

			// üëª 1. Îç∞Ïù¥ÌÑ∞
			// 1-1. Ìï† Ïùº(TODO) Îç∞Ïù¥ÌÑ∞: id(ÏãùÎ≥ÑÌï¥Ï§Ñ Ïàò ÏûàÎäî idÍ∞í), ÎÇ¥Ïö©, ÏôÑÎ£å Ïó¨Î∂Ä(true, false)
			// 1-2. ÏÉòÌîåÎßÅ -> Í∞ùÏ≤¥ ÌòïÌÉú (Ïó¨Îü¨Í∞úÏù¥Í∏∞ ÎïåÎ¨∏Ïóê Î∞∞Ïó¥ ÏÇ¨Ïö©)
			/*	
				let todolist =
				[
					{id:1, todo: 'ÎÇ¥Ïö©1', completed: false},
					{id:1, todo: 'ÎÇ¥Ïö©1', completed: false},
					{id:1, todo: 'ÎÇ¥Ïö©1', completed: false}
				]
			*/
			// createAppÏùò ÏòµÏÖò Í∞ùÏ≤¥Î°ú ÏÇ¨Ïö©ÎêòÎäî ÌîÑÎ°úÌçºÌã∞Î°úÎäî data Ìï®ÏàòÍ∞Ä ÏûàÍ≥†,
			// Ìï¥Îãπ data Ìï®ÏàòÏóêÏÑú returnÌï† Í∞ùÏ≤¥Í∞Ä Î™®Îç∏ ÌîÑÎ°úÌçºÌã∞Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê ÏïÑÎûòÏôÄ Í∞ôÏù¥ ÏÑ†Ïñ∏ÌïòÍ∏∞
			Vue.createApp({
				data() {
					return {
						// ÏÇ¨Ïö©ÏûêÎ°úÎ∂ÄÌÑ∞ ÏûÖÎ†•Î∞õÏùÑ ÏöîÏÜå ÌïúÍ∞ú
						todo: "", // ÌÖçÏä§Ìä∏ Î∞ïÏä§Ïóê ÏÇ¨Ïö©ÏûêÍ∞Ä ÏûÖÎ†•Ìïú ÎÇ¥Ïö©Í≥º Î∞îÏù∏ÎìúÎê† ÌîÑÎ°úÌçºÌã∞

						// Î™©Î°ùÍ≥º Î∞îÏù∏ÎìúÎê† ÌîÑÎ°úÌçºÌã∞
						todolist: [],
						completed: false
					}
				}, // data()

				// üëª 2. Î©îÏÜåÎìú
				/*
				Ï∂îÍ∞Ä: Ï∂îÍ∞Ä Î≤ÑÌäº ÌÅ¥Î¶≠ÌïòÎ©¥ todolistÏóê ÌÖçÏä§Ìä∏ Î∞ïÏä§Ïóê ÏÇ¨Ïö©ÏûêÍ∞Ä ÏûÖÎ†•Ìïú ÎÇ¥Ïö©ÏùÑ Ï∂îÍ∞Ä
				ÏÇ≠Ï†ú: ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠ÌïòÎ©¥ todolistÏóêÏÑú idÎ•º Ïù¥Ïö©Ìï¥ÏÑú todo ÏïÑÏù¥ÌÖúÏùÑ Ï∞æÏïÑ ÏÇ≠Ï†ú
				Î≥ÄÍ≤Ω: Ìï† Ïùº Ìïú Í±¥ÏùÑ ÌÅ¥Î¶≠ÌïòÎ©¥ idÎ•º Ïù¥Ïö©Ìï¥ÏÑú completed Í∞íÏùÑ ÌÜ†Í∏Ä(false->true->flase..)
				*/
				methods: {
					// Ï∂îÍ∞Ä Î©îÏÜåÎìú
					add() {
						// const ids = this.todolist.filter(todo => todo.id)
						// const maxId = Math.max(...ids)
						// console.log(maxId)
						// this.todolist.push({id: maxId+1, todo: this.todo, completed: false})
						this.todolist.push({id: idCnt++, todo: this.todo, completed: false})

						console.log('in add() this.todolist')
						console.log(this.todolist)

						// Ï∂îÍ∞Ä Ïù¥ÌõÑÏóê ÏûÖÎ†•Ï∞Ω Ï¥àÍ∏∞Ìôî
						this.clearInput()
					},

					// ÏÇ≠Ï†ú Î©îÏÜåÎìú
					del(id) {
						const index = this.todolist.findIndex((todo) => {
							return todo.id === id
						})
						this.todolist.splice(index, 1)

						console.log('in del() this.todolist')
						console.log(this.todolist)
					},

					// Î≥ÄÍ≤Ω Î©îÏÜåÎìú
					upd(id) {
						const index = this.todolist.findIndex((todo) => {
							return todo.id === id
						})
						this.todolist[index].completed = !this.todolist[index].completed

						console.log('in upd() this.todolist')
						console.log(this.todolist)
					},

					// ÏûÖÎ†•Ï∞Ω Ï¥àÍ∏∞Ìôî Î©îÏÜåÎìú
					clearInput: function() {
						this.todo = "";
					}
				}
			}).mount('#app')

		</script>
    </body>
</html>

<!-- ÏÖçÎÇòÍ∞Ä... Ìï¥ÏïºÌï†... Ïùº... üéÉ -->
<!-- ÏÇ¨Ïö©ÏûêÍ∞Ä ÏûÖÎ†•Ìïú Îç∞Ïù¥ÌÑ∞ Î∞îÏù∏Îî©Ìï¥Ï£ºÍ∏∞ -->
<!-- Ï∂îÍ∞Ä, ÏÇ≠Ï†ú Í∏∞Îä• -->
<!-- Î≥ÄÍ≤Ω Í∏∞Îä•) ÏïÑÏù¥ÌÖú ÌïòÎÇòÎ•º ÌÅ¥Î¶≠ÌñàÏùÑ ÎïåÏóê ÎåÄÌïú Í∏∞Îä• => ÏôÑÎ£å Ïãú stroke Ï≤òÎ¶¨Îê® -->
<!-- ÏöîÏÜå Ï∂îÍ∞Ä push(), ÏÇ≠Ï†ú splice() ÏÇ¨Ïö©ÌïòÍ∏∞ -->
<!-- ÏöîÏÜå Í≤ÄÏÉâ Ïãú Array findIndex() ÏÇ¨Ïö©ÌïòÍ∏∞ -->